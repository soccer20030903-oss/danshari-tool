<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–­æ¨é›¢ãƒ»åˆ©ç›Šæ¯”è¼ƒãƒã‚§ãƒƒã‚«ãƒ¼ | è³¢ãç‰‡ä»˜ã‘ã‚‹ä¸»å©¦ãƒ»å­¦ç”Ÿã®å‘³æ–¹</title>
    <link rel="icon" href="icon.png" type="image/png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-title" content="æ–­æ¨é›¢ãƒã‚§ãƒƒã‚«ãƒ¼">
    <style>
        /* ã“ã“ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ã®å‘½ä»¤ã‚’æ›¸ãå ´æ‰€ã§ã™ */
        :root {
            --primary: #ff4b2b;
            --secondary: #2c3e50;
            --success: #2e7d32;
            --caution: #f57f17;
            --danger: #c62828;
            --bg: #fdfdfd;
        }

        body {
            font-family: 'Helvetica Neue', Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg);
            color: #333;
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
        }

        header {
            width: 100%;
            background: linear-gradient(135deg, #ff416c, #ff4b2b);
            color: white; text-align: center;
            padding: 2rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        header h1 { margin: 0; font-size: 1.5rem; }
        header p { margin: 5px 0 0; font-size: 0.8rem; opacity: 0.9; }

        .container { width: 95%; max-width: 500px; margin: 1.5rem 0; }

        .card {
            background: #ffffff; border-radius: 20px;
            padding: 25px; box-shadow: 0 8px 30px rgba(0,0,0,0.05);
            margin-bottom: 1.5rem; border: 1px solid #eee;
        }

        h2 {
            font-size: 1.1rem; margin: 0 0 20px;
            color: var(--secondary); border-left: 5px solid var(--primary);
            padding-left: 12px;
        }

        input[type="text"], input[type="number"] {
            width: 100%; padding: 14px; border: 2px solid #f0f0f0;
            border-radius: 12px; font-size: 1rem; margin-bottom: 15px;
            box-sizing: border-box; background: #fafafa;
        }

        .button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .search-btn {
            padding: 14px; border: none; border-radius: 12px;
            color: white; font-weight: bold; font-size: 0.9rem;
            cursor: pointer; transition: 0.2s; text-align: center;
        }
        .mercari { background: #ff4b2b; }
        .yahoo { background: #ff0033; }
        .amazon { background: #232f3e; }
        .surugaya { background: #ff9900; }

        .shipping-presets {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 10px; margin-bottom: 20px;
        }
        .preset-btn {
            background: #fff; border: 2px solid #f0f0f0;
            border-radius: 12px; padding: 12px; font-size: 0.75rem;
            cursor: pointer; text-align: left; transition: 0.2s;
        }
        .preset-btn:hover { border-color: var(--primary); background: #fff5f5; }
        .preset-btn strong { display: block; color: var(--primary); margin-bottom: 3px; font-size: 0.85rem; }

        .calc-btn {
            width: 100%; background: #222; color: white;
            border: none; padding: 18px; border-radius: 12px;
            font-weight: bold; font-size: 1.2rem; cursor: pointer;
            margin-top: 10px; transition: 0.3s;
        }

        #result-area {
            margin-top: 25px; display: none; text-align: center;
        }
        .comparison-table {
            width: 100%; border-collapse: collapse; margin-top: 15px;
            background: #fff; border-radius: 15px; overflow: hidden;
            border: 1px solid #eee;
        }
        .comparison-table th, .comparison-table td {
            padding: 15px; border-bottom: 1px solid #eee; text-align: center;
        }
        .comparison-table th { background: #f8f9fa; font-size: 0.8rem; color: #666; }
        .best-row { background: #f6fff7; font-weight: bold; color: var(--success); }

        .advice-box {
            margin-top: 15px; font-size: 0.85rem; line-height: 1.6;
            padding: 18px; border-radius: 15px; text-align: left;
        }
        .aff-button {
            display: block; background: #ff4b2b; color: white;
            text-decoration: none; padding: 12px; border-radius: 10px;
            font-weight: bold; margin-top: 12px; text-align: center;
        }

        .note-copy-btn {
            width: 100%; background: #00b900; color: white;
            border: none; padding: 12px; border-radius: 12px;
            font-weight: bold; font-size: 0.9rem; cursor: pointer;
            margin-top: 20px;
        }

        footer { padding: 3rem 0; color: #bbb; font-size: 0.8rem; text-align: center; }
    </style>
</head>
<body>

<header>
    <h1>æ–­æ¨é›¢ãƒ»åˆ©ç›Šæ¯”è¼ƒãƒã‚§ãƒƒã‚«ãƒ¼</h1>
    <p>å®¶ã‚’ç‰‡ä»˜ã‘ãŸã„ä¸»å©¦ãƒ»å­¦ç”Ÿã®ãŸã‚ã®ã€Œã©ã“ã§å£²ã‚‹ï¼Ÿã€è¨ºæ–­</p>
</header>

<div class="container">
    <div class="card" style="background: #f0f7ff; border: 1px solid #cce5ff;">
        <h2 style="color: #004085; border-left-color: #004085; margin-bottom: 10px;">ğŸ’¡ ã‹ã‚“ãŸã‚“3ã‚¹ãƒ†ãƒƒãƒ—</h2>
        <ol style="font-size: 0.85rem; padding-left: 20px; line-height: 1.6; margin: 0;">
            <li><strong>èª¿ã¹ã‚‹ï¼š</strong> å•†å“åã‚’å…¥åŠ›ã—ã¦ç›¸å ´ã‚’ãƒã‚§ãƒƒã‚¯ï¼</li>
            <li><strong>æ¯”ã¹ã‚‹ï¼š</strong> ä¾¡æ ¼ã¨é€æ–™ã‚’é¸ã‚“ã§åˆ©ç›Šã‚’æ¯”è¼ƒè¨ºæ–­ã€‚</li>
            <li><strong>æ±ºã‚ã‚‹ï¼š</strong> åˆ©ç›ŠãŒå‡ºã‚‹ãªã‚‰ãƒ•ãƒªãƒã¸ã€æ‰‹é–“ãªã‚‰è²·å–ã¸GOï¼</li>
        </ol>
    </div>

    <div class="card">
        <h2>â‘  ç›¸å ´ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹</h2>
        <input type="text" id="keyword" placeholder="ä¾‹ï¼šiPhoneã€å‚è€ƒæ›¸ã€ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼">
        <div class="button-grid">
            <button class="search-btn mercari" onclick="search('mercari')">ãƒ¡ãƒ«ã‚«ãƒª</button>
            <button class="search-btn yahoo" onclick="search('yahoo')">ãƒ¤ãƒ•ã‚ªã‚¯</button>
            <button class="search-btn amazon" onclick="search('amazon')">Amazonä¸­å¤</button>
            <button class="search-btn surugaya" onclick="search('surugaya')">é§¿æ²³å±‹</button>
        </div>
    </div>

    <div class="card">
        <h2>â‘¡ 3ç¤¾ã®åˆ©ç›Šã‚’ã¾ã¨ã‚ã¦è¨ˆç®—</h2>
        <label style="font-size: 0.8rem; font-weight: bold;">è²©å£²äºˆå®šä¾¡æ ¼ (å††)</label>
        <input type="number" id="price" placeholder="èª¿ã¹ãŸç›¸å ´ã‚’å…¥åŠ›">

        <label style="font-size: 0.8rem; font-weight: bold;">ã€å…¨å›½å…±é€šã€‘é€æ–™ã®ç›®å®‰</label>
        <div class="shipping-presets">
            <button class="preset-btn" onclick="setShipping(210)"><strong>210å††</strong>(æœ¬ã€Tã‚·ãƒ£ãƒ„ç­‰)</button>
            <button class="preset-btn" onclick="setShipping(520)"><strong>520å††</strong>(é£Ÿå™¨ã€åšæ‰‹ã®æœ)</button>
            <button class="preset-btn" onclick="setShipping(750)"><strong>750å††</strong>(é´ã€ãƒãƒƒã‚°ç­‰)</button>
            <button class="preset-btn" onclick="setShipping(1050)"><strong>1,050å††ã€œ</strong>(å®¶é›»ã€ã‚³ãƒ¼ãƒˆç­‰)</button>
        </div>
        <input type="number" id="shipping" value="210">

        <button class="calc-btn" onclick="calculate()">åˆ©ç›Šã‚’æ¯”è¼ƒè¨ºæ–­ï¼</button>

        <div id="result-area">
            <table class="comparison-table">
                <thead><tr><th>ã‚¢ãƒ—ãƒª</th><th>æ‰‹æ•°æ–™</th><th>ç´”åˆ©ç›Š</th></tr></thead>
                <tbody id="comparison-body"></tbody>
            </table>
            
            <div id="ai-advice"></div>

            <button class="note-copy-btn" onclick="copyForNote()">ğŸ“ è¨ºæ–­çµæœã‚’ note ç”¨ã«ã‚³ãƒ”ãƒ¼</button>
        </div>
    </div>

    <div class="card" style="background: #fff9f0; border: 1px dashed #ff9900; text-align: center;">
        <h3 style="font-size: 1rem; color: #e67e22; margin: 0 0 10px;">ğŸ“¦ å‡ºå“ã®å¿…éœ€å“</h3>
        <p style="font-size: 0.75rem; color: #7f8c8d; margin-bottom: 12px;">é€æ–™ãƒŸã‚¹ã‚’ãªãã™ã€Œåšã•æ¸¬å®šå®šè¦ã€ã¯ä¸»å©¦ã®å¿…éœ€å“ã§ã™ã€‚</p>
        <a href="https://amzn.to/4a9f6w3" target="_blank" style="background: #ff9900; color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; font-weight: bold; font-size: 0.8rem;">Amazonã§ãŠã™ã™ã‚ã‚’è¦‹ã‚‹</a>
    </div>
</div>

<footer>Â© 2026 æ–­æ¨é›¢ãƒ»åˆ©ç›Šæ¯”è¼ƒãƒã‚§ãƒƒã‚«ãƒ¼</footer>

<script>
    function search(type) {
        const kw = encodeURIComponent(document.getElementById('keyword').value);
        if(!kw) return alert("å•†å“åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
        let url = "";
        switch(type) {
            case 'mercari': url = `https://jp.mercari.com/search?keyword=${kw}&status=on_sale`; break;
            case 'yahoo': url = `https://auctions.yahoo.co.jp/search/search?p=${kw}`; break;
            case 'amazon': url = `https://www.amazon.co.jp/s?k=${kw}&i=used`; break;
            case 'surugaya': url = `https://www.suruga-ya.jp/search?category=&search_word=${kw}`; break;
        }
        window.open(url, '_blank');
    }

    function setShipping(val) { document.getElementById('shipping').value = val; }

    function calculate() {
        const price = Number(document.getElementById('price').value);
        const shipping = Number(document.getElementById('shipping').value);
        const kw = document.getElementById('keyword').value;
        if(!price) return alert("ä¾¡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");

        const platforms = [
            { name: "Yahoo!ãƒ•ãƒªãƒ", fee: 0.05, label: "5%" },
            { name: "ãƒ¡ãƒ«ã‚«ãƒª", fee: 0.10, label: "10%" },
            { name: "æ¥½å¤©ãƒ©ã‚¯ãƒ", fee: 0.10, label: "10%" }
        ];

        let html = "";
        let bestProfit = -Infinity;
        platforms.forEach(p => {
            const profit = price - Math.floor(price * p.fee) - shipping;
            const isBest = (p.name === "Yahoo!ãƒ•ãƒªãƒ"); 
            html += `<tr ${isBest ? "class='best-row'" : ""}><td>${p.name}</td><td>${p.label}</td><td>${profit.toLocaleString()} å††</td></tr>`;
            if (profit > bestProfit) bestProfit = profit;
        });

        document.getElementById('comparison-body').innerHTML = html;
        document.getElementById('result-area').style.display = 'block';

        let affName = "ãƒ–ãƒƒã‚¯ã‚ªãƒ•";
        let affLink = "https://px.a8.net/svt/ejp?a8mat=4AX38G+61B8KY+3NFE+61JSH";
        let affDot = "https://www19.a8.net/0.gif?a8mat=4AX38G+61B8KY+3NFE+61JSH";
        
        if (kw.match(/æœ¬|æ¼«ç”»|ãƒãƒ³ã‚¬|ã‚³ãƒŸãƒƒã‚¯|æ–‡åº«|CD|DVD|ã‚²ãƒ¼ãƒ |ã‚½ãƒ•ãƒˆ/)) {
            affName = "ãƒãƒƒãƒˆã‚ªãƒ•";
            affLink = "https://px.a8.net/svt/ejp?a8mat=4AX38G+633JEA+8GQ+I22S1";
            affDot = "https://www12.a8.net/0.gif?a8mat=4AX38G+633JEA+8GQ+I22S1";
        }

        const adviceArea = document.getElementById('ai-advice');
        if (bestProfit <= 500) { 
            adviceArea.innerHTML = `
                <div class="advice-box" style="border: 2px solid var(--danger); background: #fff5f5;">
                    <p style="color: var(--danger); font-weight: bold; margin: 0;">âš ï¸ ãƒ•ãƒªãƒã ã¨æ‰‹æ®‹ã‚ŠãŒå°‘ãªã„ã§ã™ï¼</p>
                    <p style="font-size: 0.8rem; margin-top: 5px;">é€æ–™ã‚„å‡ºå“ã®æ‰‹é–“ã‚’è€ƒãˆã‚‹ã¨ã€<b>${affName}ã®å®…é…è²·å–</b>ã§ä¸€æ°—ã«ç‰‡ä»˜ã‘ã‚‹ã®ãŒè³¢ã„é¸æŠã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
                    <a href="${affLink}" target="_blank" rel="nofollow" class="aff-button">ã€ç„¡æ–™ã€‘${affName}ã§ã¾ã¨ã‚ã¦å£²ã‚‹</a>
                    <img border="0" width="1" height="1" src="${affDot}" alt="">
                </div>`;
        } else {
            adviceArea.innerHTML = `
                <div class="advice-box" style="border: 2px solid var(--success); background: #f6fff7;">
                    <p style="color: var(--success); font-weight: bold; margin: 0;">âœ¨ ç´ æ™´ã‚‰ã—ã„ï¼ãƒ•ãƒªãƒãŒãŠãƒˆã‚¯ã§ã™</p>
                    <p style="font-size: 0.8rem; margin-top: 5px;">ã“ã®å•†å“ã¯åˆ©ç›ŠãŒã—ã£ã‹ã‚Šå‡ºã¾ã™ã­ã€‚æ‰‹æ•°æ–™ã®å®‰ã„<b>Yahoo!ãƒ•ãƒªãƒ</b>ãŒä¸€ç•ªãŠãƒˆã‚¯ã§ãŠã™ã™ã‚ã§ã™ï¼</p>
                </div>`;
        }
    }

    function copyForNote() {
        const price = document.getElementById('price').value;
        const text = `ã€æ–­æ¨é›¢ãƒ»åˆ©ç›Šæ¯”è¼ƒè¨ºæ–­ã€‘\n\nè²©å£²äºˆå®šä¾¡æ ¼ï¼š${price}å††\nä¸€ç•ªæ‰‹æ®‹ã‚ŠãŒå¤šã„ã®ã¯ã€ŒYahoo!ãƒ•ãƒªãƒã€ã§ã—ãŸï¼\n\n#æ–­æ¨é›¢ #ãƒ¡ãƒ«ã‚«ãƒª #ãƒ•ãƒªãƒã‚¢ãƒ—ãƒªæ¯”è¼ƒ #æ–­æ¨é›¢ãƒã‚§ãƒƒã‚«ãƒ¼`;
        navigator.clipboard.writeText(text).then(() => alert("noteç”¨ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼"));
    }
</script>
</body>
</html>
